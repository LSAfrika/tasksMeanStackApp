"use strict";(self.webpackChunktodoexpress=self.webpackChunktodoexpress||[]).push([[335],{9335:(T,d,l)=>{l.r(d),l.d(d,{HomeModule:()=>C});var c=l(9808),p=l(8698),t=l(1223),f=l(520);let u=(()=>{class s{constructor(e){this.http=e,this.baseurl="http://localhost:3000/api",this.list=[],this.id="",this.index=0,this.fetchtasks()}hello(){this.http.get("http://localhost:3000/api/test").subscribe(e=>{console.log(e)},e=>{console.log(e)})}posttask(e){return this.http.post(this.baseurl+"/posttask",{task:e})}fetchtasks(){return this.http.get(this.baseurl+"/gettasks")}updatetask(e){return this.http.patch(this.baseurl+`/patchtask/${e.id}`,e)}deletetask(e){return this.http.delete(this.baseurl+`/deletetask/${e}`)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(f.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),h=(()=>{class s{constructor(){this.viewmodal=!1}togglemodal(){this.viewmodal=!this.viewmodal}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),g=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-nav"]],decls:13,vars:0,consts:[[1,"fixed","top-0","z-50","left-0","w-full","h-[60px]","text-white","justify-start","items-center","bg-blue-500","px-5","flex"],["routerLink","/views",1,"uppercase","cursor-pointer","font-bold","text-white","text-lg","ml-2"],[1,"w-[50px]","h-[50px]","hover:cursor-pointer","flex","items-center","justify-center","ml-auto","md:hidden"],["xmlns","http://www.w3.org/2000/svg","fill","#2563eb","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-[50%]","w-[50%]"],["stroke-linecap","round","stroke-linejoin","round","d","M4 6h16M4 12h16M4 18h16"],[1,"md:flex","justify-between","lg:justify-center","px-10","items-center","w-1/4","ml-auto","text-lg","hidden"],[1,"lg:m-2"],["routerLink","/views"],["routerLink","views/about"]],template:function(e,i){1&e&&(t.TgZ(0,"nav",0)(1,"div",1),t._uU(2,"Tasks"),t.qZA(),t.TgZ(3,"div",2),t.O4$(),t.TgZ(4,"svg",3),t._UZ(5,"path",4),t.qZA()(),t.kcU(),t.TgZ(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9,"home"),t.qZA()(),t.TgZ(10,"li",6)(11,"a",8),t._uU(12,"about"),t.qZA()()()())},styles:[""]}),s})();var r=l(2382);let x=(()=>{class s{constructor(e,i){this.api=e,this.ui=i,this.index=0,this.id=""}ngOnInit(){this.index=this.api.index,this.id=this.api.id,console.log(this.index,this.id)}deletetask(e,i){this.api.deletetask(i).subscribe(n=>{console.log(n),this.api.list.splice(e,1),this.index=this.api.index=0,this.id=this.api.id="",this.dismissmodal()},n=>{console.log(n)})}dismissmodal(){this.ui.togglemodal()}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(u),t.Y36(h))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-modal"]],decls:9,vars:0,consts:[[1,"w-full","h-screen","bg-black/20","fixed","top-0","left-0","right-0","bottom-0","flex","justify-center","items-center"],[1,"w-4/5","md:w-3/4","h-1/4","flex-col","gap-y-10","rounded-md","bg-white","px-1","md:px-5","flex","items-center","justify-center"],[1,"text-md","font-semibold","md:text-2xl"],[1,"w-full","flex","justify-center","items-center","mt-3","mb-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","rgb(6 182 212) ",1,"h-[50px]","w-[50px]","hover:cursor-pointer",3,"click"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","#ef4343",1,"h-[50px]","w-[50px]","hover:cursor-pointer",3,"click"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"are you sure you want to delete task?"),t.qZA(),t.TgZ(4,"div",3),t.O4$(),t.TgZ(5,"svg",4),t.NdJ("click",function(){return i.deletetask(i.index,i.id)}),t._UZ(6,"path",5),t.qZA(),t.TgZ(7,"svg",6),t.NdJ("click",function(){return i.dismissmodal()}),t._UZ(8,"path",7),t.qZA()()()())},styles:[""]}),s})();function v(s,o){1&s&&(t.TgZ(0,"div",8),t._uU(1,"create a new task "),t.qZA())}function k(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",12),t._uU(2),t.qZA(),t.O4$(),t.TgZ(3,"svg",13),t.NdJ("click",function(){const a=t.CHM(e).index;return t.oxw(2).fetchtask(a)}),t._UZ(4,"path",14),t.qZA(),t.TgZ(5,"svg",15),t.NdJ("click",function(){const n=t.CHM(e),a=n.index,m=n.$implicit;return t.oxw(2).deletetask(a,m.id)}),t._UZ(6,"path",16),t.qZA()()}if(2&s){const e=o.$implicit;t.xp6(2),t.Oqu(e.task)}}function w(s,o){if(1&s&&(t.TgZ(0,"div",9),t.YNc(1,k,7,1,"div",10),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.api.list)}}function _(s,o){1&s&&t._UZ(0,"app-modal")}const b=[{path:"",component:(()=>{class s{constructor(e,i){this.api=e,this.ui=i,this.task="",this.fetchedtask={task:"",id:""},this.newtask=!0,this.fetchedtaskindex=0}ngOnInit(){this.api.fetchtasks().subscribe(e=>{console.log(e),this.api.list=e})}createupdatetask(){!0===this.newtask&&this.addtask(),!1===this.newtask&&this.updatetask()}addtask(){this.task.trim().length<1||this.api.posttask(this.task).subscribe(e=>{console.log("res from server: ",e),this.api.list=[...this.api.list,e],this.task=""},e=>{console.log(e)})}fetchtask(e){this.newtask=!1,console.log(this.newtask),this.fetchedtaskindex=e,this.fetchedtask=this.api.list[e],this.task=this.fetchedtask.task}updatetask(){const e={id:this.fetchedtask.id,task:this.task};console.log(e),this.api.updatetask(e).subscribe(i=>{console.log(i),this.api.list[this.fetchedtaskindex]=e,this.task="",this.newtask=!0},i=>{console.log(i)})}deletetask(e,i){this.api.index=e,this.api.id=i,console.log(this.api.id,this.api.index),this.ui.togglemodal()}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(u),t.Y36(h))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-home"]],decls:10,vars:4,consts:[[1,"bg-slate-300","w-full","relative","z-50","flex","items-center","justify-start","h-screen","flex-col"],[1,"w-[90%]","mx-6","pb-4","mt-[70px]","md:w-[55%]","p-2","bg-white","mb-4","rounded-sm","flex","justify-center","items-center","gap-x-2","h-fit"],["type","text","placeholder","add a new task",1,"pl-3","p-2","outline-none","italic","focus:not-italic","text-slate-900","bg-white","w-[60%]","border-blue-600","border-b-2",3,"ngModel","ngModelChange"],[1,"px-4","text-sm","bg-blue-600","rounded-md","text-white","py-1","mt-3","mb-auto",3,"click"],[1,"w-[90%]","py-10","h-fit","md:w-[55%]","bg-white","font-semibold","rounded-md","flex","flex-col","items-center","justify-start","pt-5"],["class","uppercase relative bg-blue-700 text-white mt-auto mb-auto rounded-md px-5 py-2 ",4,"ngIf"],["class"," w-full flex flex-col justify-start items-center ",4,"ngIf"],[4,"ngIf"],[1,"uppercase","relative","bg-blue-700","text-white","mt-auto","mb-auto","rounded-md","px-5","py-2"],[1,"w-full","flex","flex-col","justify-start","items-center"],["class","w-[80%]  p-2 flex  flex-row justify-center gap-x-2 items-center  ",4,"ngFor","ngForOf"],[1,"w-[80%]","p-2","flex","flex-row","justify-center","gap-x-2","items-center"],[1,"text-slate-800","text-lg","font-normal","w-[70%]","border-b-2","border-blue-500/10"],["xmlns","http://www.w3.org/2000/svg","fill","#2563eb","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-[30px]","w-[30px]","hover:cursor-pointer",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","#ef4343",1,"h-[30px]","w-[30px]","hover:cursor-pointer",3,"click"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-nav"),t.TgZ(2,"div",1)(3,"input",2),t.NdJ("ngModelChange",function(a){return i.task=a}),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return i.createupdatetask()}),t._uU(5,"submit"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,v,2,0,"div",5),t.YNc(8,w,2,1,"div",6),t.qZA()(),t.YNc(9,_,1,0,"app-modal",7)),2&e&&(t.xp6(3),t.Q6J("ngModel",i.task),t.xp6(4),t.Q6J("ngIf",0===i.api.list.length),t.xp6(1),t.Q6J("ngIf",i.api.list.length>0),t.xp6(1),t.Q6J("ngIf",i.ui.viewmodal))},directives:[g,r.Fj,r.JJ,r.On,c.O5,c.sg,x],styles:[""]}),s})()}];let Z=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[p.Bz.forChild(b)],p.Bz]}),s})();var y=l(2271);let C=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[c.ez,Z,r.u5,y.m]]}),s})()}}]);